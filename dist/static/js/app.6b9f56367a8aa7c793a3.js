webpackJsonp([1],{"2sd4":function(t,s){},"3EU2":function(t,s){},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("7+uW"),i={props:{score:{type:Number}},created:function(){console.log(this.score)},computed:{itemClass:function(){for(var t=[],s=Math.floor(this.score),e=0;e<s;e++)t.push("on");for(;t.length<5;)t.push("off");return t}}},n={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"star"},this._l(this.itemClass,function(t,e){return s("span",{staticClass:"star-item",class:t})}),0)},staticRenderFns:[]};var r=e("VU/8")(i,n,!1,function(t){e("gKZu")},"data-v-3b5d3ca2",null).exports,l=e("//Fk"),o=e.n(l),c=e("mtWM"),d=e.n(c),u="https://mrsfl.github.io/truelovechain/data.json";function v(){return d.a.get(u).then(function(t){return o.a.resolve(t)})}var h={data:function(){return{seller:{},classMap:["decrease","discount","guarantee","invoice","decrease"],detailShow:!1}},created:function(){this._getHeaderInfo()},methods:{_getHeaderInfo:function(){var t=this;v().then(function(s){200==s.status&&(t.seller=s.data.seller)})},headerDetailShow:function(){this.detailShow=!0},headerDetailHide:function(){this.detailShow=!1}},components:{Star:r}},p={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"mheader",on:{click:t.headerDetailShow}},[e("div",{staticClass:"content-wrapper"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{width:"64",height:"64",src:t.seller.avatar}})]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[e("span",{staticClass:"brand"}),t._v(" "),e("span",{staticClass:"name"},[t._v(t._s(t.seller.name))])]),t._v(" "),e("div",{staticClass:"description"},[t._v(t._s(t.seller.description)+"/"+t._s(t.seller.deliveryTime)+"分钟送达")]),t._v(" "),t.seller.supports?e("div",{staticClass:"support"},[e("span",{staticClass:"icon",class:t.classMap[t.seller.supports[0].type]}),t._v(" "),e("span",{staticClass:"text"},[t._v(t._s(t.seller.supports[0].description))])]):t._e()]),t._v(" "),t.seller.supports?e("div",{staticClass:"support-count"},[e("span",[t._v(t._s(t.seller.supports.length)+"个")]),t._v(" "),e("i",{staticClass:"icon-keyboard_arrow_right"},[t._v(">")])]):t._e()]),t._v(" "),e("div",{staticClass:"bulletin-wrapper"},[e("span",{staticClass:"bulletin-title"}),t._v(" "),e("span",{staticClass:"bulletin-text"},[t._v(t._s(t.seller.bulletin))]),t._v(" "),e("span")]),t._v(" "),e("div",{staticClass:"background"},[e("img",{attrs:{src:t.seller.avatar}})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.detailShow,expression:"detailShow"}],staticClass:"header-detail"},[e("div",{staticClass:"detail-wraper clearfix"},[e("div",{staticClass:"detail-main"},[e("h1",{staticClass:"name"},[t._v(t._s(t.seller.name))]),t._v(" "),e("div",{staticClass:"star-wraper"},[e("star",{attrs:{score:t.seller.score}})],1),t._v(" "),t._m(0),t._v(" "),t.seller.supports?e("ul",{staticClass:"supports"},t._l(t.seller.supports,function(s){return e("li",[e("span",{staticClass:"icon-1",class:t.classMap[s.type]}),t._v(" "),e("span",{staticClass:"text"},[t._v(t._s(s.description))])])}),0):t._e(),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"bulletin"},[t._v(t._s(t.seller.bulletin))])])]),t._v(" "),e("div",{staticClass:"detail-close"},[e("span",{on:{click:function(s){return s.stopPropagation(),t.headerDetailHide(s)}}},[t._v("X")])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"bg-title"},[s("div",{staticClass:"line"}),this._v(" "),s("div",{staticClass:"text"},[this._v("优惠信息")]),this._v(" "),s("div",{staticClass:"line"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"bg-title"},[s("div",{staticClass:"line"}),this._v(" "),s("div",{staticClass:"text"},[this._v("商家公告")]),this._v(" "),s("div",{staticClass:"line"})])}]};var _={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tab-wraper"},[s("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/goods"}},[this._v("商品")]),this._v(" "),s("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/ratings"}},[this._v("评论")]),this._v(" "),s("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/seller"}},[this._v("商家")])],1)},staticRenderFns:[]};var f={name:"App",components:{MHeader:e("VU/8")(h,p,!1,function(t){e("yld9")},"data-v-0d1d0265",null).exports,Tab:e("VU/8")({},_,!1,function(t){e("RW6W")},"data-v-41eac574",null).exports}},m={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"app"}},[s("m-header"),this._v(" "),s("tab"),this._v(" "),s("router-view")],1)},staticRenderFns:[]};var C=e("VU/8")(f,m,!1,function(t){e("2sd4"),e("iuVx")},null,null).exports,g=e("/ocq"),w={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"seller"},[this._v("\n\t商家\n")])},staticRenderFns:[]},x=e("VU/8")(null,w,!1,null,null,null).exports,b=e("GQaK"),H={data:function(){return{classMap:["decrease","discount","guarantee","invoice","decrease"],goods:[],listHeight:[],scrollY:0}},created:function(){this.getGoodsList()},computed:{currentIndex:function(){for(var t=0;t<this.listHeight.length;t++){var s=this.listHeight[t],e=this.listHeight[t+1];if(!e||this.scrollY>=s&&this.scrollY<e)return t}return 0}},methods:{getGoodsList:function(){var t=this;v().then(function(s){console.log(s.data.goods),t.goods=s.data.goods,t.$nextTick(function(){t._initScroll(),t._calculHeight()})})},_initScroll:function(){var t=this;this.meanScroll=new b.a(this.$refs.menuWraper,{click:!0}),this.foodScroll=new b.a(this.$refs.foodsWraper,{probeType:3}),this.foodScroll.on("scroll",function(s){var e=Math.abs(Math.round(s.y));console.log(e),t.scrollY=e})},_calculHeight:function(){var t=this.$refs.foodsItem,s=0;this.listHeight.push(s);for(var e=0;e<t.length;e++){s+=t[e].clientHeight,this.listHeight.push(s)}console.log(this.listHeight)},selectMenu:function(t,s){if(s._constructed){var e=this.$refs.foodsItem[t];this.foodScroll.scrollToElement(e,300),console.log(t)}}}},$={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"goods"},[e("div",{ref:"menuWraper",staticClass:"menu-wraper"},[e("ul",t._l(t.goods,function(s,a){return e("li",{key:s.name,staticClass:"mean-item",class:t.currentIndex===a?"current":"",on:{click:function(s){t.selectMenu(a,s)}}},[e("div",{staticClass:"mean-item-child"},[e("span",{directives:[{name:"show",rawName:"v-show",value:s.type>0,expression:"item.type>0"}],staticClass:"icon",class:t.classMap[s.type]}),e("span",{staticClass:"text"},[t._v(t._s(s.name)+t._s(t.currentIndex))])])])}),0)]),t._v(" "),e("div",{ref:"foodsWraper",staticClass:"foods-wraper"},[e("ul",t._l(t.goods,function(s){return t.goods.length>0?e("li",{ref:"foodsItem",refInFor:!0},[e("h2",{staticClass:"foods-title"},[t._v(t._s(s.name))]),t._v(" "),e("ul",t._l(s.foods,function(s){return e("li",{staticClass:"foods-item"},[e("div",{staticClass:"icon-img"},[e("img",{attrs:{width:"57",height:"57",src:s.image}})]),t._v(" "),e("div",{staticClass:"foods-text"},[e("h2",{staticClass:"name"},[t._v(t._s(s.name))]),t._v(" "),s.description?e("p",{staticClass:"foods-desc"},[t._v(t._s(s.description))]):t._e(),t._v(" "),e("div",{staticClass:"extra"},[e("span",{staticClass:"count"},[t._v("月售"+t._s(s.sellCount)+"份")]),t._v(" "),e("span",[t._v("好评率"+t._s(s.rating)+"%")])]),t._v(" "),e("div",{staticClass:"price"},[e("span",{staticClass:"new"},[t._v("￥"+t._s(s.price))]),t._v(" "),s.oldPrice?e("span",{staticClass:"old"},[t._v("￥"+t._s(s.oldPrice))]):t._e()])])])}),0)]):t._e()}),0)])])},staticRenderFns:[]};var y=e("VU/8")(H,$,!1,function(t){e("3EU2")},"data-v-309ef30a",null).exports,S={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"rating-wraper"})},staticRenderFns:[]},k=e("VU/8")(null,S,!1,null,null,null).exports,E={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"error"},[this._v("\n\tmiss\n")])},staticRenderFns:[]},M=e("VU/8")({},E,!1,null,null,null).exports;a.a.use(g.a);var F=new g.a({routes:[{path:"/",redirect:"/goods"},{path:"/goods",component:y},{path:"/seller",component:x},{path:"/ratings",component:k},{path:"*",component:M}]});a.a.config.productionTip=!1,new a.a({el:"#app",router:F,components:{App:C},template:"<App/>"})},RW6W:function(t,s){},gKZu:function(t,s){},iuVx:function(t,s){},yld9:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.6b9f56367a8aa7c793a3.js.map